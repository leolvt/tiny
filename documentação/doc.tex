\documentclass[12pt]{article}
\usepackage{sbc-template}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{subfigure}
\usepackage{times,amsmath,epsfig}
\usepackage{graphicx,url}
 \makeatletter
 \newif\if@restonecol
 \makeatother
 \let\algorithm\relax
 \let\endalgorithm\relax 
\usepackage[lined,algonl,ruled]{algorithm2e}
\usepackage{multirow}
\usepackage[brazil]{babel}   
\usepackage[latin1]{inputenc}  

\sloppy

\title{Linguagem Tiny - Implementação por meio de orientção por objetos}

\author{Felipe Buzatti Nascimento \and Leonardo Vilela Teixeira}

\address{Departamento de Ciência da Computação -- Universidade Federal de Minas Gerais (UFMG)
\email{buzatti@dcc.ufmg.br \and vilela@dcc.ufmg.br}
}

\begin{document} 

\maketitle

\begin{resumo} 
Este trabalho produz um interpretador para a linguagem Tiny. Para construir o interpretador foi utilizada uma estrutura de classes seguindo o padrão de projetos interpretador definido em \cite{GoF}.
\end{resumo}


\subsection{Estrutura de classes}

A estrutura básica de classes consiste em três superclasses virtuais puras, a classe Comando, Expressao e ExpressaoBool, que declaram as três funções utilizadas no processo: Interpreta, Calcula e Avalia.

\subsubsection{classe Comando:} 

A classe comando define a função Interpreta e é herdada pelas classes ComandoAtribuicao, ComandoFor, ComandoIf, ComandoRead, ComandoWhile, ComandoWrite.
\begin{algorithm}[h!]
\begin{footnotesize}
  
	public:
		virtual ~Comando() {}\;
		virtual void Interpreta( Contexto& C ) = 0\;
	
\caption{class Comando}%
\end{footnotesize}
\end{algorithm}

\subsubsection{classe Expressao:} 

Classe relacionada a expressões aritméticas, define a função Calcula. É herdada pelas classes ExpressaoAritmetica e Fator
\begin{algorithm}[h!]
\begin{footnotesize}
  
	public: 
		virtual ~Expressao() {}\;
		virtual double Calcula(Contexto& C) = 0\;
	
\caption{class Expressao}%
\end{footnotesize}
\end{algorithm}

\subsubsection{classe ExpressaoBool:} 

Classe relacionada a expressões booleanas, define a função Avalia. É herdada pelas classes ExpressaoBooleana e ExpressaoRelacional.
\begin{algorithm}[h!]
\begin{footnotesize}
  
	public:
		virtual ~ExpressaoBool() {}\;
		virtual bool Avalia (Contexto& C) = 0\;
	
\caption{class ExpressaoBool}%
\end{footnotesize}
\end{algorithm}

\subsubsection{classe Contexto:} 

Classe responsável pela estrutura que armazena e fornece acesso às variáveis.
\begin{algorithm}[h!]
\begin{footnotesize}
  
	private:
		std::vector<double> variaveis\;

	public:
		Contexto()\;
		~Contexto()\;
		
		double	obtemVariavel(char nomeVar)\;
		void	defineVariavel(char nomeVar, double valor)\;
	
\caption{class Contexto}%
\end{footnotesize}
\end{algorithm}

\subsubsection{classe ListaComandos:} 

Classe responsável pela estrutura de lista de comandos, que armazena os comandos do programa.
\begin{algorithm}[h!]
\begin{footnotesize}
  
	private:
		std::vector<Comando *> lista_de_comandos\;

	public:
		ListaComandos(Comando * C)\;
		~ListaComandos()\;
		void AdicionaComando(Comando * C)\;
		void Interpreta(Contexto& C)\;
	
\caption{class ListaComandos}%
\end{footnotesize}
\end{algorithm}

\subsection{Algoritmos}

As três funções principais são Interpreta, Avalia e Calcula. Essas são definidas em cada classe de uma forma diferente, dependendo da classe. A aplicação dessas funções se dá através de atribuição polimórfica, com essas funções sendo chamadas para objetos declarados como Comando, ExpressaoBooleana ou Expressao. Como trata-se de funções virtuais, é chamada a função da classe à qual pertence o apontador do objeto.

\subsubsection{virtual void Interpreta( Contexto& C )}

Função típica de comandos. Executa o comando relativo à classe. Por exemplo, na classe ComandoWhile, essa função testa o condicional, e executa a lista de comandos recebida pela classe enquanto a condição for verdadeira. Já na classe ComandoAtribuicao a função recebe o nome da variável e o valor a ser atribuído e através das funções definidas pela classe Contexto modifica o valor da variável.


\subsubsection{virtual double Calcula(Contexto& C)}

Função relativa a expressões aritméticas. Faz acesso a variáveis, soma, subtrai, multiplica, ou faz raiz quadrada, dependendo da operação definida pelo objeto. Retorna o resultado do cálculo como um double.

\subsubsection{virtual bool Avalia (Contexto& C)}

Função típica de classes que definem expressões booleanas e relacionais. Realiza comparações, AND's, OR's, etc. O resultado dessas operações é um booleano.

\section{IMPLEMENTAÇÃO}

Cada classe está implementada em uma dupla de \textit{<nome da classe>.h} e \textit{<nome da classe>.cpp}. Há ainda um arquivo \textit{parser.yy} usado pelo analisador sintático bison, responsável por produzir a partir desse os arquivos \textit{parser.h} e \textit{parser.y}. Há ainda os arquivos \textit{scanner.ll} e \textit{scanner.h} relativos ao análisador léxico Flex, que gera a partir desses o arquivo \textit{scanner.cpp}.

\subsection{Compilação}

O programa deve ser compilado pelo compilador GCC através de um makefile na pasta raiz.

\subsection{Execução}



\subsubsection{Formato da entrada}


\subsubsection{Formato da saída}



\bibliographystyle{sbc}
\bibliography{doc}

\end{document}
